<div heading="Production">
	<div class="row">
		<div class="col-md-12">
			<h3 class="tab-box-title">{{'recipes.subproduct.production.title' | translate}}</h3>
		</div>
	</div>
	<div *ngIf="subproduct" class="row">
		<div class="col-md-4">
			<div class="panel panel-default">
				<div class="panel-body">
					<form class="horizontal-form cd-form">
						<div class="form-body">
							<div class="row">
								<div class="col-lg-6 col-md-12 col-sm-6 col-xs-12">
									<div class="form-group">										
										<label for="netWeight" class="control-label">{{'recipes.subproduct.production.netWeight' | translate}}:</label>
										<div class="input-group">
											<input id="netWeight" type="number" step="any" min="0" class="form-control" [(ngModel)]="subproduct.simulationNetWeight" name="simulationNetWeight" [disabled]="mode=='view'">
											<span class="input-group-addon" id="addon1">{{subproduct.measurementUnit.lang[0]?.shortName}}</span>
										</div>	
									</div>
								</div>
							</div>
						</div>
					</form> 
				</div>
			</div>
		</div>
	</div>
	<div class="table-scrollable">
		<table class="table table-hover">
			<thead>
				<tr>
					<th> {{'recipes.subproduct.composition.tableHead.element' | translate}} </th>
					<th> {{'recipes.subproduct.composition.tableHead.grossWeight' | translate}}</th>
					<th> {{'recipes.subproduct.composition.tableHead.wastePercentage' | translate}}</th>
					<th> {{'recipes.subproduct.composition.tableHead.netWeight' | translate}}</th>
					<th> {{'recipes.subproduct.composition.tableHead.oneGrossValue' | translate}}</th>
					<th> {{'recipes.subproduct.composition.tableHead.oneNetValue' | translate}}</th>
					<th> {{'recipes.subproduct.production.simulationValue' | translate}}</th>
				</tr>
			</thead>
			<tbody *ngFor="let composition of subproduct.composition; let i = index;">
				<tr>
					<td> {{composition.name}}</td>
					<td> {{composition.grossWeight | number:'1.3-3'}} {{composition.measuringUnitShortName}} </td>
					<td> {{composition.wastePercentage | number:'1.2-2'}}</td>
					<td> {{composition.netWeight | number:'1.3-3'}} {{composition.measuringUnitShortName}} </td>
					<td><span *ngIf="subproduct.netWeight">{{composition.grossWeight/subproduct.netWeight | number:'1.3-3'}}</span><span *ngIf="!subproduct.netWeight">---</span></td>
					<td><span *ngIf="subproduct.netWeight">{{composition.netWeight/subproduct.netWeight | number:'1.3-3'}}</span><span *ngIf="!subproduct.netWeight">---</span></td>
					<td>
						<span *ngIf="subproduct.simulationNetWeight"> {{(composition.grossWeight/subproduct.netWeight) * subproduct.simulationNetWeight | number:'1.3-3'}} {{composition.measuringUnitShortName}}</span>
						<span *ngIf="!subproduct.simulationNetWeight">---</span>
					</td>
				</tr>
	  		</tbody>
		</table>
	</div>
	<!-- <div class="form-actions right">
		<button type="button" routerLink="/recipes/subproducts" class="btn default">{{'buttonGeneric.cancel' | translate}}</button>
	</div> -->
</div>